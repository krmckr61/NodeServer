'use strict';

var _ = require('lodash');
var Result = require('./result');

function IP(ip) {
  this.ip = ip;
  this.url = 'http://ip-api.com/json/' + this.ip;
}

_.extend(IP.prototype, {
  buildResult: function(body) {
    body = body || {};

    return new Result({
      countryCode: body.countryCode,
      country: body.country,
      regionCode: body.region,
      region: body.regionName,
      city: body.city,
      postalCode: body.zip
    });
  }
});

module.exports = IP;
